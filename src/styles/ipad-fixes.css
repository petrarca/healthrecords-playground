/* iPad-specific fixes */
@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {
  /* Global fixes */
  html, body, #root {
    overflow: hidden !important;
    height: 100% !important;
  }

  /* Fix header position */
  .shell-header {
    position: fixed !important;
    top: 0;
    left: 0;
    right: 0;
    z-index: 50;
    height: 4rem;
  }
  
  /* Adjust main content to account for fixed header */
  .ipad-main-content-fix {
    padding-top: 4rem !important;
    height: calc(100% - 3rem) !important; /* Subtract footer height */
    position: relative;
    overflow: hidden !important;
  }
  
  /* Fix main content inner area */
  .ipad-main-content-fix > main {
    overflow-y: auto !important;
    padding-top: 0 !important;
    height: 100% !important;
  }
  
  /* Fix patient header positioning */
  .patient-header {
    margin-top: 0 !important;
    position: relative;
    z-index: 5;
  }
  
  /* Fix footer position */
  .ipad-footer-fix {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 50;
    height: 3rem;
  }
  
  /* Ensure environment variables popup is visible */
  .ipad-footer-fix .absolute.right-0.bottom-full {
    bottom: calc(100% + 1px) !important;
    max-height: 80vh;
    overflow-y: auto;
    z-index: 55 !important;
  }
  
  /* Fix Assistant container on iPad */
  .assistant-container {
    position: fixed !important;
    top: 4rem !important; /* Position below fixed header */
    right: 0 !important;
    bottom: 3rem !important; /* Position above fixed footer */
    width: 24rem !important; /* 384px (w-96) */
    z-index: 45 !important; /* Below header/footer but above content */
    overflow: hidden !important;
    padding-top: 0 !important;
    margin-top: 0 !important;
    background: white;
    border-left: 1px solid #e5e7eb;
  }
  
  /* Fix Assistant component on iPad */
  .assistant-panel {
    height: 100% !important;
    width: 100% !important;
    max-height: none !important;
    z-index: 15;
    margin-top: 0 !important;
    padding-top: 0 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    display: flex !important;
    flex-direction: column !important;
  }
  
  /* Fix Assistant input area */
  .assistant-panel form {
    position: sticky !important;
    bottom: 0 !important;
    background-color: white !important;
    z-index: 46 !important;
    padding-bottom: 0.5rem !important;
    border-top: 1px solid #e5e7eb !important;
  }
  
  /* Fix main content when assistant open */
  .assistant-open {
    width: calc(100% - 24rem) !important; /* Full width minus assistant width */
    margin-right: 0 !important;
  }

  /* Ensure patient container has proper layout */
  .patient-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden !important;
  }
  
  /* Enable scrolling in individual components that need it */
  .medical-timeline, 
  .patient-summary, 
  .patient-demographics, 
  .medical-profile {
    overflow: auto !important;
    -webkit-overflow-scrolling: touch !important;
    height: 100% !important;
  }
}
