/* iPad-specific fixes */
@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) {
  /* Fix header position */
  .shell-header {
    position: fixed !important;
    top: 0;
    left: 0;
    right: 0;
    z-index: 20;
    height: 4rem;
  }
  
  /* Adjust main content to account for fixed header */
  .ipad-main-content-fix {
    padding-top: 4rem !important; /* Add padding equal to header height */
    height: calc(100% - 3rem) !important; /* Subtract footer height */
    position: relative;
    overflow-y: auto !important;
  }
  
  /* Fix main content inner area */
  .ipad-main-content-fix > main {
    overflow-y: auto !important;
    padding-top: 0 !important;
  }
  
  /* Fix patient component positioning */
  .ipad-main-content-fix > div {
    padding-top: 0 !important;
  }
  
  /* Fix patient header positioning */
  .patient-header {
    margin-top: 0 !important;
    position: relative;
    z-index: 5;
  }
  
  /* Add specific class for patient view */
  .ipad-main-content-fix .patient-view {
    padding-top: 4rem !important;
    margin-top: 0 !important;
  }
  
  /* Fix footer position */
  .ipad-footer-fix {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 10;
  }
  
  /* Ensure environment variables popup is visible */
  .ipad-footer-fix .absolute.right-0.bottom-full {
    bottom: calc(100% + 1px) !important;
    max-height: 80vh;
    overflow-y: auto;
    z-index: 30 !important;
  }
  
  /* Make sure dialog can be positioned absolutely */
  dialog {
    position: absolute !important;
  }
  
  /* Fix Assistant container on iPad */
  .assistant-container {
    padding-top: 0 !important;
    margin-top: 0 !important;
  }
  
  /* Fix Assistant component on iPad */
  .assistant-panel {
    height: calc(100% - 3rem) !important; /* Subtract footer height */
    max-height: calc(100vh - 4rem - 3rem) !important; /* Subtract header and footer height */
    z-index: 15;
    margin-top: 0 !important;
    padding-top: 4rem !important; /* Add padding to push below header */
    overflow-y: auto !important;
  }
  
  /* Fix Assistant input area */
  .assistant-panel form {
    position: sticky;
    bottom: 0;
    background-color: white;
    z-index: 16;
  }
  
  /* Global fixes */
  html, body, #root {
    overflow: hidden !important;
    height: 100% !important;
  }
  
  /* Ensure patient container has proper layout */
  .patient-container {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden !important;
    width: 100% !important;
  }
  
  /* No scrolling in the patient content container */
  .patient-container > div:last-child {
    overflow: hidden !important;
  }
  
  /* Prevent landing page from scrolling */
  .landing-page-container {
    overflow: hidden !important;
  }
  
  /* Enable scrolling in individual components that need it */
  .medical-timeline, 
  .patient-summary, 
  .patient-demographics, 
  .medical-profile {
    overflow: auto !important;
    -webkit-overflow-scrolling: touch;
    height: 100% !important;
  }
  
  /* Ensure scrollable areas within components work properly */
  .patient-summary #patient-summary-content,
  .patient-demographics .flex-1,
  .medical-timeline .flex-1 {
    overflow: auto !important;
    -webkit-overflow-scrolling: touch;
  }
}
